<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dev/QA Clue Hunt — Hard Mode</title>
  <meta name="color-scheme" content="dark light">
  <style>
    :root{--accent:#7ee;--muted:#9ab}
    html,body{height:100%}
    body{
      font-family:Inter,system-ui,Segoe UI,Roboto,Arial;
      margin:0;
      background:#081028;
      color:#dceff2;
      padding:28px;
    }
    .wrap{
      max-width:1024px;
      margin:12px auto;
      padding:18px;
      background:linear-gradient(180deg,#021226,#04283a);
      border-radius:12px;
    }
    h1{margin:0 0 6px}
    p.lead{color:var(--muted);margin-top:0}
    .panel{
      background:rgba(255,255,255,0.02);
      padding:12px;
      border-radius:8px;
      margin:12px 0;
    }
    label{display:block;margin:8px 0 6px;color:var(--muted)}
    input[type=text]{
      width:100%;
      padding:10px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,0.04);
      background:transparent;
      color:inherit;
    }
    button{
      margin-top:8px;
      padding:8px 12px;
      border-radius:8px;
      border:0;
      background:var(--accent);
      color:#012;
      cursor:pointer;
    }
    .ghost{
      background:transparent;
      border:1px solid rgba(255,255,255,0.06);
      color:var(--muted);
    }
    .muted{color:var(--muted)}
    .log{
      font-family:monospace;
      background:#02101a;
      padding:10px;
      border-radius:8px;
      color:#9ff;
      max-height:140px;
      overflow:auto;
    }
    .css-grid{
      display:grid;
      grid-template-columns:repeat(8,28px);
      gap:6px;
      align-items:center;
    }
    .css-cell{
      width:28px;
      height:28px;
      border-radius:6px;
      border:1px solid rgba(255,255,255,0.04);
      background:transparent;
    }
    /* Cells get custom properties at runtime: --c (color), --t (text), --s (show) */
    .css-cell::after{
      content:var(--t);
      font-size:11px;
      display:block;
      line-height:28px;
      text-align:center;
      opacity:var(--s,0);
    }
    .secret-tip::after{
      content:var(--content);
      font-weight:bold;
      color:lightgreen;
    }
    .kbd{
      background:#071a2a;
      padding:2px 6px;
      border-radius:4px;
      font-family:monospace;
      font-size:12px;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Dev/QA Clue Hunt — Hard Mode</h1>
    <p class="lead">
      Clues are generated at runtime. They are <em>not</em> hardcoded in the served HTML.
      Use DevTools (Elements, Styles, Computed, Console, Network) and tweak CSS/custom
      properties to reveal secrets. The goal: find all 10 dynamic clues.
    </p>

    <div class="panel">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div><strong>Current step</strong>: <span id="stepNum">1</span>/10</div>
        <div class="muted">Seed: <span id="seedLabel">(session)</span></div>
      </div>
      <p id="inst" style="margin-top:8px">
        Follow the instructions for each step. Hints are available but will be intentionally cryptic.
      </p>

      <label for="answer">Your answer</label>
      <input id="answer" type="text" placeholder="Type discovered clue" autocomplete="off" />
      <div style="display:flex;gap:8px;margin-top:8px">
        <button id="submit">Submit</button>
        <button id="hint" class="ghost">Hint</button>
        <button id="regen" class="ghost">New seed</button>
      </div>
      <div id="hintBox" class="muted" style="margin-top:8px">
        Use DevTools: Elements → Styles / Computed / Console.
      </div>
    </div>

    <div class="panel">
      <strong>Dynamic CSS grid (inspect computed styles)</strong>
      <p class="muted">
        Several cells have custom properties. Toggle the <span class="kbd">--s</span>
        custom property to <span class="kbd">1</span> in the inspector to reveal characters.
        The actual characters are set at runtime; they are not in the original HTML source.
      </p>
      <div id="cssGrid" class="css-grid" aria-hidden="true"></div>
    </div>

    <div class="panel">
      <strong>Console helpers</strong>
      <p class="muted">
        Open Console. A small help API is exposed here for testing. Some steps require running
        the functions printed below.
      </p>
      <div class="log" id="consoleLog"></div>
    </div>

    <div class="panel">
      <strong>Final</strong>
      <label for="finalInput">Final passphrase</label>
      <input id="finalInput" type="text" disabled placeholder="Locked until step 10" />
      <button id="finalBtn" disabled>Submit final</button>
      <div id="finalMsg" class="muted" style="margin-top:8px"></div>
    </div>
  </div>

  <!-- All game logic and clue data is now in game.js (not visible via View Source) -->
  <script src="game.js"></script>
</body>
</html>
